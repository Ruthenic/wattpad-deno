pipeline:
    build:
        image: node:19-alpine3.16
        commands:
            - curl -fsSL https://deno.land/x/install/install.sh | sh
            - deno test -A buildNode.ts
    deploy:
        image: plugins/npm
        settings:
            token: NPM_API_KEY
            folder: npm
        secrets: [NPM_API_KEY]
        when:
            event: tag

depends_on:
    - lint
    - test
